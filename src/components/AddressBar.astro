---
export interface Props {
  url: string;
}

const { url } = Astro.props;
---

<div class="address-bar">
  <form>
    <button type="button" id="app-home" name="app-home" onclick="window.location.href = '/';">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="currentColor" d="M17.51 3.87L15.73 2.1L5.84 12l9.9 9.9l1.77-1.77L9.38 12l8.13-8.13z"/></svg>
    </button>
    <input type="text" id="app-url" name="url" value={url} placeholder="Type a URL here" />
    <button type="button" id="gh-link" onclick="window.location.href ='https://github.com/ayoayco/cozy';">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="currentColor" d="M20.375 8.174c.163-.4.688-1.987-.163-4.137c0 0-1.312-.413-4.3 1.625c-1.25-.35-2.587-.4-3.912-.4c-1.325 0-2.662.05-3.912.4c-2.988-2.05-4.3-1.625-4.3-1.625c-.85 2.15-.325 3.737-.163 4.137C2.612 9.262 2 10.662 2 12.362c0 6.437 4.162 7.887 9.975 7.887S22 18.799 22 12.362c0-1.7-.613-3.1-1.625-4.188ZM12 19.024c-4.125 0-7.475-.187-7.475-4.187c0-.95.475-1.85 1.275-2.588c1.338-1.225 3.625-.575 6.2-.575c2.588 0 4.85-.65 6.2.575c.813.738 1.275 1.625 1.275 2.588c0 3.987-3.35 4.187-7.475 4.187Zm-3.137-6.262c-.825 0-1.5 1-1.5 2.225s.674 2.237 1.5 2.237c.825 0 1.5-1 1.5-2.237c0-1.238-.675-2.225-1.5-2.225Zm6.274 0c-.825 0-1.5.987-1.5 2.225c0 1.237.675 2.237 1.5 2.237s1.5-1 1.5-2.237c0-1.238-.662-2.225-1.5-2.225Z"/></svg>
    </a>
  </form>
</div>

<script>
  const homeBtn = document.getElementById('app-home') as HTMLButtonElement;
  const urlInput = document.getElementById('app-url') as HTMLInputElement;
  if (urlInput.value === '')
    homeBtn.setAttribute('style', 'display: none');
</script>

<style lang="scss">
  .address-bar {
    text-align: center;
    width: 100%;
  }

  :global(form) {
    width: 100%;
    border: 0px;
    padding: 0.5rem;
    text-align: center;
    border-radius: 5px;
    border: 1px solid #555;
    background-color: #f5f5f5;
    box-shadow: 0 1px 3px 1px #ccc;
    display: flex;

    :global(input[type="text"]) {
      flex: 3;
      background-color: transparent;
      border: 0px;
      padding: 0.5rem;
    }

    :global(button#app-home),
    :global(button#gh-link) {
      border: 0px;
      background-color: transparent;
      padding: 0px;
      cursor: pointer;
      color: #555;

      :global(svg) {
          border: 0px;
          background-color: transparent;
          width: 1.5rem;
          height: 1.5rem;
      }
    }

    :global(button#app-home) {
      margin-right: 0.5rem;
    }
    :global(button#gh-link) {
      margin-left: 0.5rem;
      text-align: center;
    }

  }
</style>
